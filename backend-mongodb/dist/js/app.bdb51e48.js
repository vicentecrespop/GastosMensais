(function(){"use strict";var t={9489:function(t,e,a){var o=a(9242),s=a(3396);const n={class:"conteudo"};function i(t,e,a,o,i,r){const l=(0,s.up)("Navbar"),u=(0,s.up)("router-view"),d=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[(0,s.Wm)(l),(0,s.Wm)(u,{class:"container"})]),(0,s.Wm)(d)])}const r=t=>((0,s.dD)("data-v-12b1479a"),t=t(),(0,s.Cn)(),t),l={id:"nav"},u=r((()=>(0,s._)("div",{class:"nav-title"},[(0,s._)("h2",null,"Gastos Mensais")],-1))),d={class:"nav-links"},c=(0,s.Uk)("Gastos"),p=(0,s.Uk)("Entrar"),m=(0,s.Uk)("Cadastrar"),h=(0,s.Uk)("Histórico"),g=(0,s.Uk)("Configurações");function v(t,e,a,n,i,r){const v=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[u,(0,s._)("div",d,[(0,s.wy)((0,s.Wm)(v,{to:"/"},{default:(0,s.w5)((()=>[c])),_:1},512),[[o.F8,t.authenticated]]),(0,s.wy)((0,s.Wm)(v,{to:"/login"},{default:(0,s.w5)((()=>[p])),_:1},512),[[o.F8,!t.authenticated]]),(0,s.wy)((0,s.Wm)(v,{to:"/register"},{default:(0,s.w5)((()=>[m])),_:1},512),[[o.F8,!t.authenticated]]),(0,s.wy)((0,s.Wm)(v,{to:"/historico"},{default:(0,s.w5)((()=>[h])),_:1},512),[[o.F8,t.authenticated]]),(0,s.wy)((0,s.Wm)(v,{to:"/profile"},{default:(0,s.w5)((()=>[g])),_:1},512),[[o.F8,t.authenticated]]),(0,s.wy)((0,s._)("button",{onClick:e[0]||(e[0]=t=>r.logout(t))},"Logout",512),[[o.F8,t.authenticated]])])])}var f=a(65),w={name:"Navbar",methods:{logout(t){t.preventDefault(),this.$store.commit("logout"),this.$router.push("/login")}},computed:{...(0,f.rn)(["authenticated"])}},_=a(89);const b=(0,_.Z)(w,[["render",v],["__scopeId","data-v-12b1479a"]]);var y=b;const k=t=>((0,s.dD)("data-v-3acb7993"),t=t(),(0,s.Cn)(),t),C=k((()=>(0,s._)("h3",null,"Gastos Mensais © 2022",-1))),D=k((()=>(0,s._)("p",null,"O melhor local para cadastrar seus gastos!",-1))),G=[C,D];function I(t,e,a,o,n,i){return(0,s.wg)(),(0,s.iD)("footer",null,G)}var T={name:"Footer"};const S=(0,_.Z)(T,[["render",I],["__scopeId","data-v-3acb7993"]]);var A=S,U={name:"App",components:{Navbar:y,Footer:A}};const j=(0,_.Z)(U,[["render",i]]);var O=j,E=a(678),F=a(7139);const W=t=>((0,s.dD)("data-v-87f47f92"),t=t(),(0,s.Cn)(),t),M={class:"dashboard"},x={class:"title-container"},$=W((()=>(0,s._)("h1",{class:"title-item"},"Visualize seus Gastos",-1))),Z={key:0,class:"title-item"},V=(0,s.Uk)("Cadastrar novo Gasto"),z={class:"ver-gasto"},N={class:"input-box"},q={class:"input-container"},P=W((()=>(0,s._)("label",{for:"mes"},"Mês:",-1))),L=(0,s.uE)('<option value="1" data-v-87f47f92>Janeiro</option><option value="2" data-v-87f47f92>Fevereiro</option><option value="3" data-v-87f47f92>Março</option><option value="4" data-v-87f47f92>Abril</option><option value="5" data-v-87f47f92>Maio</option><option value="6" data-v-87f47f92>Junho</option><option value="7" data-v-87f47f92>Julho</option><option value="8" data-v-87f47f92>Agosto</option><option value="9" data-v-87f47f92>Setembro</option><option value="10" data-v-87f47f92>Outubro</option><option value="11" data-v-87f47f92>Novembro</option><option value="12" data-v-87f47f92>Dezembro</option>',12),J=[L],R={class:"input-container"},H=W((()=>(0,s._)("label",{for:"ano"},"Ano:",-1))),K=["value"],B=["value"],Y=["value"],Q=["value"],X={key:1};function tt(t,e,a,n,i,r){const l=(0,s.up)("router-link"),u=(0,s.up)("InputSubmit"),d=(0,s.up)("TabelaGastos");return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",x,[$,null!=i.total?((0,s.wg)(),(0,s.iD)("span",Z,"Total de Gastos: "+(0,F.zw)(i.total),1)):(0,s.kq)("",!0),(0,s.Wm)(l,{to:"/gastos",class:"btn title-item"},{default:(0,s.w5)((()=>[V])),_:1})]),(0,s._)("div",z,[(0,s._)("form",{onSubmit:e[2]||(e[2]=t=>r.getGasto(t)),class:"gasto-form"},[(0,s._)("div",N,[(0,s._)("div",q,[P,(0,s.wy)((0,s._)("select",{name:"mes",id:"mes","onUpdate:modelValue":e[0]||(e[0]=t=>i.mes=t)},J,512),[[o.bM,i.mes]])]),(0,s._)("div",R,[H,(0,s.wy)((0,s._)("select",{name:"ano",id:"ano","onUpdate:modelValue":e[1]||(e[1]=t=>i.ano=t)},[(0,s._)("option",{value:i.anoAtual},(0,F.zw)(i.anoAtual),9,K),(0,s._)("option",{value:i.anoAtual+1},(0,F.zw)(i.anoAtual+1),9,B),(0,s._)("option",{value:i.anoAtual+2},(0,F.zw)(i.anoAtual+2),9,Y),(0,s._)("option",{value:i.anoAtual+3},(0,F.zw)(i.anoAtual+3),9,Q)],512),[[o.bM,i.ano]])])]),(0,s.Wm)(u,{text:"Selecionar"})],32)]),i.gastos.length>0?((0,s.wg)(),(0,s.j4)(d,{key:0,gastos:i.gastos},null,8,["gastos"])):(0,s.kq)("",!0),null!=i.msg?((0,s.wg)(),(0,s.iD)("div",X,(0,F.zw)(i.msg),1)):(0,s.kq)("",!0)])}const et=["value"];function at(t,e,a,o,n,i){return(0,s.wg)(),(0,s.iD)("input",{type:"submit",value:a.text},null,8,et)}var ot={name:"InputSubmit",props:{text:""}};const st=(0,_.Z)(ot,[["render",at],["__scopeId","data-v-5a187366"]]);var nt=st;const it={class:"data-container"},rt=(0,s.uE)('<div class="data-table-heading" data-v-1e037442><div class="data-id-heading" data-v-1e037442>Nª:</div><div class="data-title-heading" data-v-1e037442>Nome do Gasto:</div><div class="data-price-heading" data-v-1e037442>Preço:</div><div class="data-type-heading" data-v-1e037442>Tipo:</div><div class="data-date-heading" data-v-1e037442>Data:</div><div class="data-actions-heading" data-v-1e037442>Ações:</div></div>',1),lt={class:"data-table body"},ut={class:"data-id-container"},dt={class:"data-title-container"},ct={class:"data-price-container"},pt={class:"data-type-container"},mt={class:"data-date-container"},ht={class:"data-actions-container"},gt=["onClick"];function vt(t,e,a,o,n,i){return(0,s.wg)(),(0,s.iD)("div",it,[rt,(0,s._)("div",lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.gastos,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"data-row",key:e},[(0,s._)("div",ut,(0,F.zw)(e+1),1),(0,s._)("div",dt,(0,F.zw)(t.nome),1),(0,s._)("div",ct,(0,F.zw)(t.preco),1),(0,s._)("div",pt,(0,F.zw)(t.tipo),1),(0,s._)("div",mt,(0,F.zw)(String(t.data).slice(0,10)),1),(0,s._)("div",ht,[(0,s._)("button",{class:"remove-btn",onClick:e=>i.remove(t._id)},"Remover",8,gt)])])))),128))])])}var ft={name:"TabelaGastos",props:["gastos"],created(){this.editarDados()},methods:{async remove(t){const e=this.$store.getters.token,a={id:t},o=JSON.stringify(a);await fetch("http://localhost:3000/api/gasto",{method:"DELETE",headers:{"Content-type":"application/json","auth-token":e},body:o}).then((()=>{console.log("Gasto removido com sucesso!"),setTimeout((()=>{this.msg=null,this.$parent.getGastos()}),500)})).catch((t=>console.log(t)))},editarDados(){this.gastos.forEach((t=>{const e=String(t.data).slice(0,10);t.data=e.split("-").reverse().join("/");const a=t.preco.toLocaleString("pt-br",{style:"currency",currency:"BRL"});t.preco=a.toLocaleString("pt-br",{minimumFractionDigits:2})}))}}};const wt=(0,_.Z)(ft,[["render",vt],["__scopeId","data-v-1e037442"]]);var _t=wt,bt={components:{InputSubmit:nt,TabelaGastos:_t},name:"Home",data(){return{gastos:{},total:null,mes:null,ano:null,anoAtual:(new Date).getFullYear(),msg:null}},methods:{async getGasto(t){t.preventDefault();const e=this.mes,a=this.ano,o=this.$store.getters.token;await fetch("http://localhost:3000/api/gasto/mes",{method:"GET",headers:{"Content-type":"application/json","auth-token":o,mes:e,ano:a}}).then((t=>t.json())).then((t=>{this.gastos=t.gastos,0===t.gastos.length?this.msg="Nenhum gasto encontrado nesta data!":this.msg=null})).catch((t=>console.log(t))),this.getTotal()},getTotal(){const t=this.gastos;let e=0;t.forEach((t=>{let a=t.preco.slice(2);a=a.replace(".","").replace(",","."),e+=Number(a)}));const a=e.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),o=a.toLocaleString("pt-br",{minimumFractionDigits:2});this.total=o},getGastos(){const t={preventDefault:function(){}};this.getGasto(t)}}};const yt=(0,_.Z)(bt,[["render",tt],["__scopeId","data-v-87f47f92"]]);var kt=yt;const Ct=t=>((0,s.dD)("data-v-e17aaad2"),t=t(),(0,s.Cn)(),t),Dt={class:"add-gasto"},Gt=Ct((()=>(0,s._)("h1",null,"Adicionar Gastos Mensais",-1)));function It(t,e,a,o,n,i){const r=(0,s.up)("adicionar-gasto");return(0,s.wg)(),(0,s.iD)("div",Dt,[Gt,(0,s.Wm)(r)])}const Tt=t=>((0,s.dD)("data-v-58ce5e1c"),t=t(),(0,s.Cn)(),t),St={class:"add-gasto"},At={class:"input-container"},Ut=Tt((()=>(0,s._)("label",{for:"nome"},"Gasto:",-1))),jt={class:"input-container"},Ot=Tt((()=>(0,s._)("label",{for:"preco"},"Preço:",-1))),Et={class:"input-container"},Ft=Tt((()=>(0,s._)("label",{for:"tipo"},"Tipo de Gasto:",-1))),Wt=(0,s.uE)('<option value="Alimentação" data-v-58ce5e1c>Alimentação</option><option value="Entretenimento" data-v-58ce5e1c>Entretenimento</option><option value="Moradia" data-v-58ce5e1c>Moradia</option><option value="Roupas" data-v-58ce5e1c>Roupas</option><option value="Transporte" data-v-58ce5e1c>Transporte</option><option value="Outros" data-v-58ce5e1c>Outros</option>',6),Mt=[Wt],xt={class:"input-container"},$t=Tt((()=>(0,s._)("label",{for:"data"},"Data:",-1)));function Zt(t,e,a,n,i,r){const l=(0,s.up)("Message"),u=(0,s.up)("input-submit");return(0,s.wg)(),(0,s.iD)("div",St,[(0,s.Wm)(l,{msg:i.msg,msgClass:i.msgClass},null,8,["msg","msgClass"]),(0,s._)("form",{id:"gasto-form",onSubmit:e[4]||(e[4]=t=>r.addGasto(t))},[(0,s._)("div",At,[Ut,(0,s.wy)((0,s._)("input",{type:"text",name:"nome",id:"nome","onUpdate:modelValue":e[0]||(e[0]=t=>i.nome=t),placeholder:"Qual é o gasto?"},null,512),[[o.nr,i.nome]])]),(0,s._)("div",jt,[Ot,(0,s.wy)((0,s._)("input",{type:"number",step:"0.01",name:"preco",id:"preco","onUpdate:modelValue":e[1]||(e[1]=t=>i.preco=t),placeholder:"Preço do gasto"},null,512),[[o.nr,i.preco]])]),(0,s._)("div",Et,[Ft,(0,s.wy)((0,s._)("select",{name:"tipo",id:"tipo","onUpdate:modelValue":e[2]||(e[2]=t=>i.tipo=t)},Mt,512),[[o.bM,i.tipo]])]),(0,s._)("div",xt,[$t,(0,s.wy)((0,s._)("input",{type:"date",name:"data",id:"data","onUpdate:modelValue":e[3]||(e[3]=t=>i.data=t)},null,512),[[o.nr,i.data]])]),(0,s.Wm)(u,{text:"Adicionar"})],32)])}function Vt(t,e,a,o,n,i){return a.msg?((0,s.wg)(),(0,s.iD)("p",{key:0,class:(0,F.C_)(["msg",a.msgClass])},(0,F.zw)(a.msg),3)):(0,s.kq)("",!0)}var zt={name:"Message",props:["msg","msgClass"]};const Nt=(0,_.Z)(zt,[["render",Vt],["__scopeId","data-v-fe272e2a"]]);var qt=Nt,Pt={components:{InputSubmit:nt,Message:qt},name:"AdicionarGastos",data(){return{nome:null,tipo:null,preco:null,data:null,msg:null,msgClass:null}},methods:{async addGasto(t){t.preventDefault();const e={nome:this.nome,preco:this.preco,tipo:this.tipo,data:this.data},a=JSON.stringify(e),o=this.$store.getters.token;await fetch("http://localhost:3000/api/gasto",{method:"POST",headers:{"Content-type":"application/json","auth-token":o},body:a}).then((t=>t.json())).then((t=>{t.error?(this.msg=t.error,this.msgClass="error"):(this.msg=t.msg,this.msgClass="success"),setTimeout((()=>{t.error||(this.msg=null,this.$router.push("/historico"))}),2e3)})).catch((t=>console.log(t)))}}};const Lt=(0,_.Z)(Pt,[["render",Zt],["__scopeId","data-v-58ce5e1c"]]);var Jt=Lt,Rt={name:"Gasto",components:{AdicionarGasto:Jt}};const Ht=(0,_.Z)(Rt,[["render",It],["__scopeId","data-v-e17aaad2"]]);var Kt=Ht;const Bt=t=>((0,s.dD)("data-v-f77c6b2c"),t=t(),(0,s.Cn)(),t),Yt={class:"dashboard"},Qt={class:"title-container"},Xt=Bt((()=>(0,s._)("h1",{class:"title-item"},"Histórico de Gastos",-1))),te=(0,s.Uk)("Adicionar Gasto"),ee={key:0},ae={key:1},oe=(0,s.Uk)("Você ainda não tem festas cadastradas, "),se=(0,s.Uk)("clique aqui para adicionar um gasto!");function ne(t,e,a,o,n,i){const r=(0,s.up)("router-link"),l=(0,s.up)("TabelaGastos");return(0,s.wg)(),(0,s.iD)("div",Yt,[(0,s._)("div",Qt,[Xt,(0,s.Wm)(r,{to:"/gastos",class:"btn title-item"},{default:(0,s.w5)((()=>[te])),_:1})]),n.gastos.length>0?((0,s.wg)(),(0,s.iD)("div",ee,[(0,s.Wm)(l,{gastos:n.gastos},null,8,["gastos"])])):((0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("p",null,[oe,(0,s.Wm)(r,{to:"/gastos"},{default:(0,s.w5)((()=>[se])),_:1})])]))])}var ie={name:"Historico",components:{TabelaGastos:_t},data(){return{gastos:{}}},created(){this.getGastos()},methods:{async getGastos(){const t=this.$store.getters.token;await fetch("http://localhost:3000/api/gasto",{method:"GET",headers:{"Content-type":"application/json","auth-token":t}}).then((t=>t.json())).then((t=>{this.gastos=t.gastos})).catch((t=>console.log(t)))}}};const re=(0,_.Z)(ie,[["render",ne],["__scopeId","data-v-f77c6b2c"]]);var le=re;const ue=t=>((0,s.dD)("data-v-17603778"),t=t(),(0,s.Cn)(),t),de={class:"register"},ce=ue((()=>(0,s._)("h1",null,"Criar uma conta",-1)));function pe(t,e,a,o,n,i){const r=(0,s.up)("UserForm");return(0,s.wg)(),(0,s.iD)("div",de,[ce,(0,s.Wm)(r,{user:{},page:"register",btnText:"Cadastrar"})])}const me=t=>((0,s.dD)("data-v-9543fc22"),t=t(),(0,s.Cn)(),t),he={class:"input-container"},ge=me((()=>(0,s._)("label",{for:"name"},"Nome:",-1))),ve={class:"input-container"},fe=me((()=>(0,s._)("label",{for:"email"},"E-mail:",-1))),we={class:"input-container"},_e=me((()=>(0,s._)("label",{for:"password"},"Senha:",-1))),be={class:"input-container"},ye=me((()=>(0,s._)("label",{for:"confirmpassword"},"Confirmação de senha:",-1)));function ke(t,e,a,n,i,r){const l=(0,s.up)("Message"),u=(0,s.up)("InputSubmit");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{msg:i.msg,msgClass:i.msgClass},null,8,["msg","msgClass"]),(0,s._)("form",{onSubmit:e[5]||(e[5]=t=>"register"===a.page?r.register(t):r.update(t)),id:"user-form"},[(0,s.wy)((0,s._)("input",{type:"hidden",name:"id",id:"id","onUpdate:modelValue":e[0]||(e[0]=t=>i.id=t)},null,512),[[o.nr,i.id]]),(0,s._)("div",he,[ge,(0,s.wy)((0,s._)("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":e[1]||(e[1]=t=>i.name=t),placeholder:"Digite o seu nome."},null,512),[[o.nr,i.name]])]),(0,s._)("div",ve,[fe,(0,s.wy)((0,s._)("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[2]||(e[2]=t=>i.email=t),placeholder:"Digite o seu email."},null,512),[[o.nr,i.email]])]),(0,s._)("div",we,[_e,(0,s.wy)((0,s._)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[3]||(e[3]=t=>i.password=t),placeholder:"Digite a sua senha."},null,512),[[o.nr,i.password]])]),(0,s._)("div",be,[ye,(0,s.wy)((0,s._)("input",{type:"password",id:"confirmpassword",name:"confirmpassword","onUpdate:modelValue":e[4]||(e[4]=t=>i.confirmpassword=t),placeholder:"Confirme a sua senha."},null,512),[[o.nr,i.confirmpassword]])]),(0,s.Wm)(u,{text:a.btnText},null,8,["text"])],32)])}var Ce={name:"RegisterForm",data(){return{id:this.user._id||null,name:this.user.name||null,email:this.user.email||null,password:null,confirmpassword:null,msg:null,msgClass:null}},props:["user","page","btnText"],components:{InputSubmit:nt,Message:qt},methods:{async register(t){t.preventDefault();const e={name:this.name,email:this.email,password:this.password,confirmpassword:this.confirmpassword},a=JSON.stringify(e);await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-type":"application/json"},body:a}).then((t=>t.json())).then((t=>{let e=!1;t.error?(this.msg=t.error,this.msgClass="error"):(e=!0,this.msg=t.msg,this.msgClass="success",this.$store.commit("authenticate",{token:t.token,userId:t.userId})),setTimeout((()=>{e?this.$router.push("/"):this.msg=null}),2e3)})).catch((t=>{console.log(t)}))},async update(t){t.preventDefault();const e={id:this.id,name:this.name,email:this.email,password:this.password,confirmpassword:this.confirmpassword},a=JSON.stringify(e),o=this.$store.getters.token;await fetch("http://localhost:3000/api/user",{method:"PATCH",headers:{"Content-type":"application/json","auth-token":o},body:a}).then((t=>t.json())).then((t=>{t.error?(this.msg=t.error,this.msgClass="error"):(this.msg=t.msg,this.msgClass="success",setTimeout((()=>{this.msg=null,this.$router.push("/")}),2e3))})).catch((t=>{console.log(t)}))}}};const De=(0,_.Z)(Ce,[["render",ke],["__scopeId","data-v-9543fc22"]]);var Ge=De,Ie={name:"Register",components:{UserForm:Ge}};const Te=(0,_.Z)(Ie,[["render",pe],["__scopeId","data-v-17603778"]]);var Se=Te;const Ae=t=>((0,s.dD)("data-v-4f26be7c"),t=t(),(0,s.Cn)(),t),Ue={class:"profile"},je=Ae((()=>(0,s._)("h1",null,"Edite seu perfil",-1)));function Oe(t,e,a,o,n,i){const r=(0,s.up)("UserForm");return(0,s.wg)(),(0,s.iD)("div",Ue,[je,((0,s.wg)(),(0,s.j4)(r,{page:"profile",user:n.user,btnText:"Editar",key:n.componentKey},null,8,["user"]))])}var Ee={components:{UserForm:Ge},data(){return{user:{},componentKey:0}},created(){this.getUser()},methods:{async getUser(){const t=this.$store.getters.userId,e=this.$store.getters.token;await fetch(`http://localhost:3000/api/user/${t}`,{method:"GET",headers:{"Content-type":"application/json","auth-token":e}}).then((t=>t.json())).then((t=>{this.user=t.user,this.componentKey+=1})).catch((t=>{console.log(t)}))}}};const Fe=(0,_.Z)(Ee,[["render",Oe],["__scopeId","data-v-4f26be7c"]]);var We=Fe;const Me=t=>((0,s.dD)("data-v-8b65df3a"),t=t(),(0,s.Cn)(),t),xe={class:"login"},$e=Me((()=>(0,s._)("h1",null,"Entrar no Gastos Mensais",-1)));function Ze(t,e,a,o,n,i){const r=(0,s.up)("LoginForm");return(0,s.wg)(),(0,s.iD)("div",xe,[$e,(0,s.Wm)(r)])}const Ve=t=>((0,s.dD)("data-v-40e4e184"),t=t(),(0,s.Cn)(),t),ze={class:"input-container"},Ne=Ve((()=>(0,s._)("label",{for:"email"},"E-mail:",-1))),qe={class:"input-container"},Pe=Ve((()=>(0,s._)("label",{for:"password"},"Senha:",-1)));function Le(t,e,a,n,i,r){const l=(0,s.up)("Message"),u=(0,s.up)("InputSubmit");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{msg:i.msg,msgClass:i.msgClass},null,8,["msg","msgClass"]),(0,s._)("form",{onSubmit:e[2]||(e[2]=t=>r.login(t)),id:"login-form"},[(0,s._)("div",ze,[Ne,(0,s.wy)((0,s._)("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t),placeholder:"Digite o seu e-mail"},null,512),[[o.nr,i.email]])]),(0,s._)("div",qe,[Pe,(0,s.wy)((0,s._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),placeholder:"Digite a sua senha"},null,512),[[o.nr,i.password]])]),(0,s.Wm)(u,{text:"Entrar"})],32)])}var Je={name:"LoginForm",components:{Message:qt,InputSubmit:nt},data(){return{email:null,password:null,msg:null,msgClass:null}},methods:{async login(t){t.preventDefault();const e={email:this.email,password:this.password},a=JSON.stringify(e);await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-type":"application/json"},body:a}).then((t=>t.json())).then((t=>{let e=!1;t.error?(this.msg=t.error,this.msgClass="error"):(e=!0,this.msg=t.msg,this.msgClass="success",this.$store.commit("authenticate",{token:t.token,userId:t.userId})),setTimeout((()=>{e?this.$router.push("/"):this.msg=null}),2e3)}))}}};const Re=(0,_.Z)(Je,[["render",Le],["__scopeId","data-v-40e4e184"]]);var He=Re,Ke={components:{LoginForm:He}};const Be=(0,_.Z)(Ke,[["render",Ze],["__scopeId","data-v-8b65df3a"]]);var Ye=Be,Qe=a(5103);const Xe=new Qe.ZP({storage:window.localStorage});var ta=(0,f.MT)({state(){return{authenticated:!1,token:null,userId:null}},getters:{authenticated:t=>t.authenticated,token:t=>t.token,userId:t=>t.userId},mutations:{authenticate(t,e){t.authenticated=!0,t.token=e.token,t.userId=e.userId},logout(t){t.authenticated=!1,t.token=null,t.userId=null}},actions:{},plugins:[Xe.plugin]});const ea=[{path:"/",name:"home",component:kt,meta:{requiresAuth:!0}},{path:"/gastos",name:"Gastos",component:Kt,meta:{requiresAuth:!0}},{path:"/historico",name:"Historico",component:le,meta:{requiresAuth:!0}},{path:"/register",name:"Register",component:Se,meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:Ye,meta:{requiresAuth:!1}},{path:"/profile",name:"Profile",component:We,meta:{requiresAuth:!0}}],aa=(0,E.p7)({history:(0,E.PO)("/"),routes:ea});aa.beforeEach(((t,e,a)=>{t.matched.some((t=>t.meta.requiresAuth))&&!1===ta.getters.authenticated?a({path:"/login",params:{nextUrl:t.fullPath}}):a()}));var oa=aa;const sa=(0,o.ri)(O).use(oa);sa.use(ta),sa.mount("#app")}},e={};function a(o){var s=e[o];if(void 0!==s)return s.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,o,s,n){if(!o){var i=1/0;for(d=0;d<t.length;d++){o=t[d][0],s=t[d][1],n=t[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(d--,1);var u=s();void 0!==u&&(e=u)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[o,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,n,i=o[0],r=o[1],l=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var d=l(a)}for(e&&e(o);u<i.length;u++)n=i[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(9489)}));o=a.O(o)})();
//# sourceMappingURL=app.bdb51e48.js.map